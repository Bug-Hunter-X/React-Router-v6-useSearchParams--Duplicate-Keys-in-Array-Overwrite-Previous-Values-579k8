The solution involves using an object to represent search parameters instead of an array. This avoids the issue of duplicate keys overwriting each other.  The keys of the object will represent the parameter names, and the values will represent the parameter values.  The updated `setSearchParams` function call uses this object to update the search parameters correctly.  Each key-value pair will be included in the URL.  Example: `setSearchParams({ itemId: ['1','2','3'] });`  This will correctly add all three items to the URL, unlike the array method which would only keep the last value, '3'.  Additionally, if your existing data structure contains duplicates, ensure it is transformed into a format suitable for this object-based approach.